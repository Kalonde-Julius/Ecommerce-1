{"ast":null,"code":"import _classCallCheck from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Form,Button,Row,Col,Container}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import FormContainer from\"../component/FormContainer\";import{getUserDetails}from\"../actions/userActions\";import{connect}from\"react-redux\";import Loader from\"../component/Loader\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductEditScreen=/*#__PURE__*/function(_Component){_inherits(ProductEditScreen,_Component);var _super=_createSuper(ProductEditScreen);function ProductEditScreen(){var _this;_classCallCheck(this,ProductEditScreen);_this=_super.call(this);_this.submitHandler=function(e){_this.setState({loading:true});// e.preventDefault();\nvar _this$state=_this.state,name=_this$state.name,price=_this$state.price,image=_this$state.image,brand=_this$state.brand,category=_this$state.category,countInStock=_this$state.countInStock,numReviews=_this$state.numReviews,description=_this$state.description;var data={name:name,price:price,image:image,brand:brand,category:category,countInStock:countInStock,numReviews:numReviews,description:description};var token=_this.props.getLoginInfoData.userInfo.token;var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.put(\"/api/products/\".concat(_this.props.match.params.id),data,config).then(function(response){_this.props.history.push(\"/admin/productslist\");_this.setState({loading:false});}).catch(function(error){console.log(error);_this.setState({loading:false});});};_this.onFileChange=function(event){_this.setState({uploading:true});var formdata=new FormData();formdata.append(\"image\",event.target.files[0]);formdata.append(\"filetype\",\"IMG\");axios({method:\"post\",url:\"/api/upload\",headers:{\"Content-Type\":\"multipart/form-data\"},data:formdata}).then(function(res){_this.setState({image:res.data,uploading:false});}).catch(function(err){_this.setState({uploading:false});console.log(\"Error : \"+err);});};_this.state={name:\"\",price:\"\",image:\"\",brand:\"\",category:\"\",countInStock:\"\",numReviews:0,imageUrl:\"https://placeimg.com/320/320/animals\",description:\"\",loading:true,uploading:false};return _this;}_createClass(ProductEditScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true});var token=this.props.getLoginInfoData.userInfo.token;var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.get(\"/api/products/\".concat(this.props.match.params.id),config).then(function(response){console.log(response.data);_this2.setState({name:response.data.name,price:response.data.price,image:response.data.image,brand:response.data.brand,category:response.data.category,countInStock:response.data.countInStock,numReviews:response.data.numReviews,description:response.data.description,loading:false});}).catch(function(error){console.log(error);_this2.setState({loading:false});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state2=this.state,name=_this$state2.name,price=_this$state2.price,image=_this$state2.image,brand=_this$state2.brand,category=_this$state2.category,countInStock=_this$state2.countInStock,numReviews=_this$state2.numReviews,description=_this$state2.description;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:\"/admin/productslist\",className:\"btn btn-light mt-5 ml-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\"}),\" Go back\"]}),/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Product Details\"}),this.state.loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter product name\",value:name,onChange:function onChange(e){return _this3.setState({name:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"price\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter Product Price\",value:price,onChange:function onChange(e){return _this3.setState({price:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"category\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Category\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter category\",value:category,onChange:function onChange(e){return _this3.setState({category:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"category\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Brand\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter category\",value:brand,onChange:function onChange(e){return _this3.setState({brand:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"countInStock\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Count In Stock\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter stock limit\",value:countInStock,onChange:function onChange(e){return _this3.setState({countInStock:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"description\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Description\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter description\",value:description,onChange:function onChange(e){return _this3.setState({description:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"image\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Image \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter image url\",value:image,onChange:function onChange(e){return _this3.setState({image:e.target.value});}}),/*#__PURE__*/_jsx(Form.File,{id:\"img-upload\",label:\"Choose File\",custom:true,onChange:this.onFileChange}),this.state.uploading&&/*#__PURE__*/_jsx(Loader,{})]}),false?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",onClick:this.submitHandler,children:\"Update\"})]})]})]});}}]);return ProductEditScreen;}(Component);var mapStateToProps=function mapStateToProps(state){return{getLoginInfoData:state.userLogin,getUserDetailsData:state.getUserDetails};};export default connect(mapStateToProps)(ProductEditScreen);","map":{"version":3,"sources":["/Users/shravanmeena/Desktop/ecommerce/frontend/src/screens/ProductEditScreen.js"],"names":["React","Component","Form","Button","Row","Col","Container","Link","FormContainer","getUserDetails","connect","Loader","axios","ProductEditScreen","submitHandler","e","setState","loading","state","name","price","image","brand","category","countInStock","numReviews","description","data","token","props","getLoginInfoData","userInfo","config","headers","Authorization","put","match","params","id","then","response","history","push","catch","error","console","log","onFileChange","event","uploading","formdata","FormData","append","target","files","method","url","res","err","imageUrl","get","value","mapStateToProps","userLogin","getUserDetailsData"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Button, Row, Col, Container } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport FormContainer from \"../component/FormContainer\";\nimport { getUserDetails } from \"../actions/userActions\";\nimport { connect } from \"react-redux\";\nimport Loader from \"../component/Loader\";\nimport axios from \"axios\";\n\nclass ProductEditScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      price: \"\",\n      image: \"\",\n      brand: \"\",\n      category: \"\",\n      countInStock: \"\",\n      numReviews: 0,\n      imageUrl: \"https://placeimg.com/320/320/animals\",\n\n      description: \"\",\n      loading: true,\n      uploading: false,\n    };\n  }\n\n  submitHandler = (e) => {\n    this.setState({\n      loading: true,\n    });\n    // e.preventDefault();\n    const {\n      name,\n      price,\n      image,\n      brand,\n      category,\n      countInStock,\n      numReviews,\n      description,\n    } = this.state;\n    const data = {\n      name,\n      price,\n      image,\n      brand,\n      category,\n      countInStock,\n      numReviews,\n      description,\n    };\n    const token = this.props.getLoginInfoData.userInfo.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    };\n\n    axios\n      .put(`/api/products/${this.props.match.params.id}`, data, config)\n      .then((response) => {\n        this.props.history.push(`/admin/productslist`);\n        this.setState({\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          loading: false,\n        });\n      });\n  };\n\n  componentDidMount() {\n    this.setState({\n      loading: true,\n    });\n    const token = this.props.getLoginInfoData.userInfo.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    };\n\n    axios\n      .get(`/api/products/${this.props.match.params.id}`, config)\n      .then((response) => {\n        console.log(response.data);\n        this.setState({\n          name: response.data.name,\n          price: response.data.price,\n          image: response.data.image,\n          brand: response.data.brand,\n          category: response.data.category,\n          countInStock: response.data.countInStock,\n          numReviews: response.data.numReviews,\n          description: response.data.description,\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  onFileChange = (event) => {\n    this.setState({\n      uploading: true,\n    });\n    var formdata = new FormData();\n    formdata.append(\"image\", event.target.files[0]);\n    formdata.append(\"filetype\", \"IMG\");\n    axios({\n      method: \"post\",\n      url: `/api/upload`,\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n      data: formdata,\n    })\n      .then((res) => {\n        this.setState({\n          image: res.data,\n          uploading: false,\n        });\n      })\n      .catch((err) => {\n        this.setState({\n          uploading: false,\n        });\n        console.log(\"Error : \" + err);\n      });\n  };\n\n  render() {\n    const {\n      name,\n      price,\n      image,\n      brand,\n      category,\n      countInStock,\n      numReviews,\n      description,\n    } = this.state;\n    return (\n      <>\n        <Link to='/admin/productslist' className='btn btn-light mt-5 ml-5'>\n          <i className='fa fa-arrow-left'></i> Go back\n        </Link>\n\n        <FormContainer>\n          <h2>Edit Product Details</h2>\n          {this.state.loading ? (\n            <Loader />\n          ) : (\n            <Form>\n              {/* <img\n                width='320'\n                src={`//uploads/image - 1615302608565.png`}\n              /> */}\n\n              <Form.Group controlId='formBasicEmail'>\n                <Form.Label>Name</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter product name'\n                  value={name}\n                  onChange={(e) => this.setState({ name: e.target.value })}\n                />\n              </Form.Group>\n\n              <Form.Group controlId='price'>\n                <Form.Label>Price</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter Product Price'\n                  value={price}\n                  onChange={(e) => this.setState({ price: e.target.value })}\n                />\n              </Form.Group>\n\n              <Form.Group controlId='category'>\n                <Form.Label>Category</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter category'\n                  value={category}\n                  onChange={(e) => this.setState({ category: e.target.value })}\n                />\n              </Form.Group>\n\n              <Form.Group controlId='category'>\n                <Form.Label>Brand</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter category'\n                  value={brand}\n                  onChange={(e) => this.setState({ brand: e.target.value })}\n                />\n              </Form.Group>\n\n              <Form.Group controlId='countInStock'>\n                <Form.Label>Count In Stock</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter stock limit'\n                  value={countInStock}\n                  onChange={(e) =>\n                    this.setState({ countInStock: e.target.value })\n                  }\n                />\n              </Form.Group>\n\n              <Form.Group controlId='description'>\n                <Form.Label>Description</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter description'\n                  value={description}\n                  onChange={(e) =>\n                    this.setState({ description: e.target.value })\n                  }\n                />\n              </Form.Group>\n\n              <Form.Group controlId='image'>\n                <Form.Label> Image </Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter image url'\n                  value={image}\n                  onChange={(e) => this.setState({ image: e.target.value })}\n                />\n                <Form.File\n                  id='img-upload'\n                  label='Choose File'\n                  custom\n                  onChange={this.onFileChange}\n                />\n\n                {this.state.uploading && <Loader />}\n              </Form.Group>\n\n              {/* <Form.Group controlId='isAdmin'>\n                <Form.Check\n                  type='Checkbox'\n                  label='Is Admin'\n                  checked={isAdmin}\n                  onChange={(e) => this.setState({ isAdmin: e.target.checked })}\n                />\n              </Form.Group> */}\n\n              {false ? (\n                <Loader />\n              ) : (\n                <Button\n                  variant='primary'\n                  type='submit'\n                  onClick={this.submitHandler}>\n                  Update\n                </Button>\n              )}\n            </Form>\n          )}\n        </FormContainer>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    getLoginInfoData: state.userLogin,\n    getUserDetailsData: state.getUserDetails,\n  };\n};\n\nexport default connect(mapStateToProps)(ProductEditScreen);\n"]},"metadata":{},"sourceType":"module"}