{"ast":null,"code":"import _classCallCheck from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shravanmeena/Desktop/ecommerce/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Form,Button,Row,Col,Container}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import FormContainer from\"../component/FormContainer\";import{getUserDetails}from\"../actions/userActions\";import{connect}from\"react-redux\";import Loader from\"../component/Loader\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserEditScreen=/*#__PURE__*/function(_Component){_inherits(UserEditScreen,_Component);var _super=_createSuper(UserEditScreen);function UserEditScreen(){var _this;_classCallCheck(this,UserEditScreen);_this=_super.call(this);_this.submitHandler=function(e){_this.setState({loading:true});// e.preventDefault();\nvar _this$state=_this.state,name=_this$state.name,email=_this$state.email,isAdmin=_this$state.isAdmin;var data={name:name,email:email,isAdmin:isAdmin};var token=_this.props.getLoginInfoData.userInfo.token;var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.put(\"/api/users/\".concat(_this.props.match.params.id),data,config).then(function(response){_this.props.history.push(\"/admin/userlist\");_this.setState({name:response.data.user.name,email:response.data.user.email,isAdmin:response.data.user.isAdmin,loading:false});}).catch(function(error){console.log(error);_this.setState({loading:false});});};_this.state={name:\"\",email:\"\",isAdmin:false,loading:true};return _this;}_createClass(UserEditScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true});var token=this.props.getLoginInfoData.userInfo.token;var config={headers:{Authorization:\"Bearer \".concat(token)}};axios.get(\"/api/users/\".concat(this.props.match.params.id),config).then(function(response){_this2.setState({name:response.data.user.name,email:response.data.user.email,isAdmin:response.data.user.isAdmin,loading:false});}).catch(function(error){console.log(error);_this2.setState({loading:false});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state2=this.state,name=_this$state2.name,email=_this$state2.email,isAdmin=_this$state2.isAdmin;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Link,{to:\"/admin/userlist\",className:\"btn btn-light mt-5 ml-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-arrow-left\"}),\" Go back\"]}),/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit User Details\"}),this.state.loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter your name\",value:name,onChange:function onChange(e){return _this3.setState({name:e.target.value});}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){return _this3.setState({email:e.target.value});}}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"isAdmin\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"Checkbox\",label:\"Is Admin\",checked:isAdmin,onChange:function onChange(e){return _this3.setState({isAdmin:e.target.checked});}})}),false?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",onClick:this.submitHandler,children:\"Update\"})]})]})]});}}]);return UserEditScreen;}(Component);var mapStateToProps=function mapStateToProps(state){return{getLoginInfoData:state.userLogin,getUserDetailsData:state.getUserDetails};};export default connect(mapStateToProps)(UserEditScreen);","map":{"version":3,"sources":["/Users/shravanmeena/Desktop/ecommerce/frontend/src/screens/UserEditScreen.js"],"names":["React","Component","Form","Button","Row","Col","Container","Link","FormContainer","getUserDetails","connect","Loader","axios","UserEditScreen","submitHandler","e","setState","loading","state","name","email","isAdmin","data","token","props","getLoginInfoData","userInfo","config","headers","Authorization","put","match","params","id","then","response","history","push","user","catch","error","console","log","get","target","value","checked","mapStateToProps","userLogin","getUserDetailsData"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,GAAvB,CAA4BC,GAA5B,CAAiCC,SAAjC,KAAkD,iBAAlD,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,OAASC,cAAT,KAA+B,wBAA/B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,gJACMC,CAAAA,c,gHACJ,yBAAc,gDACZ,wBADY,MAUdC,aAVc,CAUE,SAACC,CAAD,CAAO,CACrB,MAAKC,QAAL,CAAc,CACZC,OAAO,CAAE,IADG,CAAd,EAGA;AAJqB,gBAKY,MAAKC,KALjB,CAKbC,IALa,aAKbA,IALa,CAKPC,KALO,aAKPA,KALO,CAKAC,OALA,aAKAA,OALA,CAMrB,GAAMC,CAAAA,IAAI,CAAG,CACXH,IAAI,CAAJA,IADW,CAEXC,KAAK,CAALA,KAFW,CAGXC,OAAO,CAAPA,OAHW,CAAb,CAKA,GAAME,CAAAA,KAAK,CAAG,MAAKC,KAAL,CAAWC,gBAAX,CAA4BC,QAA5B,CAAqCH,KAAnD,CACA,GAAMI,CAAAA,MAAM,CAAG,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYN,KAAZ,CADN,CADI,CAAf,CAMAX,KAAK,CACFkB,GADH,sBACqB,MAAKN,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBC,EAD7C,EACmDX,IADnD,CACyDK,MADzD,EAEGO,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,MAAKX,KAAL,CAAWY,OAAX,CAAmBC,IAAnB,CAAwB,iBAAxB,EAEA,MAAKrB,QAAL,CAAc,CACZG,IAAI,CAAEgB,QAAQ,CAACb,IAAT,CAAcgB,IAAd,CAAmBnB,IADb,CAEZC,KAAK,CAAEe,QAAQ,CAACb,IAAT,CAAcgB,IAAd,CAAmBlB,KAFd,CAGZC,OAAO,CAAEc,QAAQ,CAACb,IAAT,CAAcgB,IAAd,CAAmBjB,OAHhB,CAIZJ,OAAO,CAAE,KAJG,CAAd,EAMD,CAXH,EAYGsB,KAZH,CAYS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,MAAKxB,QAAL,CAAc,CACZC,OAAO,CAAE,KADG,CAAd,EAGD,CAjBH,EAkBD,CA9Ca,CAEZ,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAE,EADK,CAEXC,KAAK,CAAE,EAFI,CAGXC,OAAO,CAAE,KAHE,CAIXJ,OAAO,CAAE,IAJE,CAAb,CAFY,aAQb,C,4DAwCD,4BAAoB,iBAClB,KAAKD,QAAL,CAAc,CACZC,OAAO,CAAE,IADG,CAAd,EAGA,GAAMM,CAAAA,KAAK,CAAG,KAAKC,KAAL,CAAWC,gBAAX,CAA4BC,QAA5B,CAAqCH,KAAnD,CACA,GAAMI,CAAAA,MAAM,CAAG,CACbC,OAAO,CAAE,CACPC,aAAa,kBAAYN,KAAZ,CADN,CADI,CAAf,CAMAX,KAAK,CACF+B,GADH,sBACqB,KAAKnB,KAAL,CAAWO,KAAX,CAAiBC,MAAjB,CAAwBC,EAD7C,EACmDN,MADnD,EAEGO,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClB,MAAI,CAACnB,QAAL,CAAc,CACZG,IAAI,CAAEgB,QAAQ,CAACb,IAAT,CAAcgB,IAAd,CAAmBnB,IADb,CAEZC,KAAK,CAAEe,QAAQ,CAACb,IAAT,CAAcgB,IAAd,CAAmBlB,KAFd,CAGZC,OAAO,CAAEc,QAAQ,CAACb,IAAT,CAAcgB,IAAd,CAAmBjB,OAHhB,CAIZJ,OAAO,CAAE,KAJG,CAAd,EAMD,CATH,EAUGsB,KAVH,CAUS,SAACC,KAAD,CAAW,CAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACA,MAAI,CAACxB,QAAL,CAAc,CACZC,OAAO,CAAE,KADG,CAAd,EAGD,CAfH,EAgBD,C,sBAED,iBAAS,kCAC0B,KAAKC,KAD/B,CACCC,IADD,cACCA,IADD,CACOC,KADP,cACOA,KADP,CACcC,OADd,cACcA,OADd,CAEP,mBACE,wCACE,MAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,yBAArC,wBACE,UAAG,SAAS,CAAC,kBAAb,EADF,cADF,cAKE,MAAC,aAAD,yBACE,yCADF,CAEG,KAAKH,KAAL,CAAWD,OAAX,cACC,KAAC,MAAD,IADD,cAGC,MAAC,IAAD,yBACE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,mBADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,iBAFd,CAGE,KAAK,CAAEE,IAHT,CAIE,QAAQ,CAAE,kBAACJ,CAAD,QAAO,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEG,IAAI,CAAEJ,CAAC,CAAC6B,MAAF,CAASC,KAAjB,CAAd,CAAP,EAJZ,EAFF,GADF,cAWE,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,wBACE,KAAC,IAAD,CAAM,KAAN,4BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,aAFd,CAGE,KAAK,CAAEzB,KAHT,CAIE,QAAQ,CAAE,kBAACL,CAAD,QAAO,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEI,KAAK,CAAEL,CAAC,CAAC6B,MAAF,CAASC,KAAlB,CAAd,CAAP,EAJZ,EAFF,cAQE,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,4DARF,GAXF,cAwBE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,SAAtB,uBACE,KAAC,IAAD,CAAM,KAAN,EACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAC,UAFR,CAGE,OAAO,CAAExB,OAHX,CAIE,QAAQ,CAAE,kBAACN,CAAD,QAAO,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEK,OAAO,CAAEN,CAAC,CAAC6B,MAAF,CAASE,OAApB,CAAd,CAAP,EAJZ,EADF,EAxBF,CAiCG,mBACC,KAAC,MAAD,IADD,cAGC,KAAC,MAAD,EACE,OAAO,CAAC,SADV,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAE,KAAKhC,aAHhB,oBApCJ,GALJ,GALF,GADF,CA2DD,C,4BA3I0Bb,S,EA8I7B,GAAM8C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC7B,KAAD,CAAW,CACjC,MAAO,CACLO,gBAAgB,CAAEP,KAAK,CAAC8B,SADnB,CAELC,kBAAkB,CAAE/B,KAAK,CAACT,cAFrB,CAAP,CAID,CALD,CAOA,cAAeC,CAAAA,OAAO,CAACqC,eAAD,CAAP,CAAyBlC,cAAzB,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Form, Button, Row, Col, Container } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport FormContainer from \"../component/FormContainer\";\nimport { getUserDetails } from \"../actions/userActions\";\nimport { connect } from \"react-redux\";\nimport Loader from \"../component/Loader\";\nimport axios from \"axios\";\nclass UserEditScreen extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name: \"\",\n      email: \"\",\n      isAdmin: false,\n      loading: true,\n    };\n  }\n\n  submitHandler = (e) => {\n    this.setState({\n      loading: true,\n    });\n    // e.preventDefault();\n    const { name, email, isAdmin } = this.state;\n    const data = {\n      name,\n      email,\n      isAdmin,\n    };\n    const token = this.props.getLoginInfoData.userInfo.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    };\n\n    axios\n      .put(`/api/users/${this.props.match.params.id}`, data, config)\n      .then((response) => {\n        this.props.history.push(\"/admin/userlist\");\n\n        this.setState({\n          name: response.data.user.name,\n          email: response.data.user.email,\n          isAdmin: response.data.user.isAdmin,\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          loading: false,\n        });\n      });\n  };\n\n  componentDidMount() {\n    this.setState({\n      loading: true,\n    });\n    const token = this.props.getLoginInfoData.userInfo.token;\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    };\n\n    axios\n      .get(`/api/users/${this.props.match.params.id}`, config)\n      .then((response) => {\n        this.setState({\n          name: response.data.user.name,\n          email: response.data.user.email,\n          isAdmin: response.data.user.isAdmin,\n          loading: false,\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({\n          loading: false,\n        });\n      });\n  }\n\n  render() {\n    const { name, email, isAdmin } = this.state;\n    return (\n      <>\n        <Link to='/admin/userlist' className='btn btn-light mt-5 ml-5'>\n          <i className='fa fa-arrow-left'></i> Go back\n        </Link>\n\n        <FormContainer>\n          <h2>Edit User Details</h2>\n          {this.state.loading ? (\n            <Loader />\n          ) : (\n            <Form>\n              <Form.Group controlId='formBasicEmail'>\n                <Form.Label>Name</Form.Label>\n                <Form.Control\n                  type='text'\n                  placeholder='Enter your name'\n                  value={name}\n                  onChange={(e) => this.setState({ name: e.target.value })}\n                />\n              </Form.Group>\n\n              <Form.Group controlId='formBasicEmail'>\n                <Form.Label>Email address</Form.Label>\n                <Form.Control\n                  type='email'\n                  placeholder='Enter email'\n                  value={email}\n                  onChange={(e) => this.setState({ email: e.target.value })}\n                />\n                <Form.Text className='text-muted'>\n                  We'll never share your email with anyone else.\n                </Form.Text>\n              </Form.Group>\n\n              <Form.Group controlId='isAdmin'>\n                <Form.Check\n                  type='Checkbox'\n                  label='Is Admin'\n                  checked={isAdmin}\n                  onChange={(e) => this.setState({ isAdmin: e.target.checked })}\n                />\n              </Form.Group>\n\n              {false ? (\n                <Loader />\n              ) : (\n                <Button\n                  variant='primary'\n                  type='submit'\n                  onClick={this.submitHandler}>\n                  Update\n                </Button>\n              )}\n            </Form>\n          )}\n        </FormContainer>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    getLoginInfoData: state.userLogin,\n    getUserDetailsData: state.getUserDetails,\n  };\n};\n\nexport default connect(mapStateToProps)(UserEditScreen);\n"]},"metadata":{},"sourceType":"module"}